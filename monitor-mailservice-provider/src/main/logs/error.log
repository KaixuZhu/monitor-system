2024-01-11 17:33:25.446|WARN |monitor-mailservice|12896||c.a.d.c.s.b.f.a.ServiceAnnotationBeanPostProcessor|265 | [DUBBO] The BeanDefinition[Root bean: class [com.alibaba.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] of ServiceBean has been registered with name : ServiceBean:mailServiceImpl:com.zr.mailmonitor.service.MailService, dubbo version: 2.6.2, current host: 10.85.1.17
2024-01-11 17:43:57.652|WARN |monitor-mailservice|12896||o.a.z.ClientCnxn         |1162|Session 0x10003aa3bde0002 for server 127.0.0.1/127.0.0.1:2181, unexpected error, closing socket connection and attempting reconnect
java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at sun.nio.ch.SocketDispatcher.read0(Native Method)
	at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)
	at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)
	at sun.nio.ch.IOUtil.read(IOUtil.java:192)
	at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:380)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:68)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:366)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1141)
2024-01-11 17:44:01.059|WARN |monitor-mailservice|12896||o.a.z.ClientCnxn         |1162|Session 0x10003aa3bde0002 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused: no further information
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:361)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1141)
2024-01-11 17:44:02.807|ERROR|monitor-mailservice|12896||o.a.c.ConnectionState    |228 |Connection timed out for connection string (127.0.0.1:2181) and timeout (5000) / elapsed (5039)
org.apache.curator.CuratorConnectionLossException: KeeperErrorCode = ConnectionLoss
	at org.apache.curator.ConnectionState.checkTimeouts(ConnectionState.java:225)
	at org.apache.curator.ConnectionState.getZooKeeper(ConnectionState.java:94)
	at org.apache.curator.CuratorZookeeperClient.getZooKeeper(CuratorZookeeperClient.java:117)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.performBackgroundOperation(CuratorFrameworkImpl.java:835)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.backgroundOperationsLoop(CuratorFrameworkImpl.java:809)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.access$300(CuratorFrameworkImpl.java:64)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl$4.call(CuratorFrameworkImpl.java:267)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2024-01-11 17:44:03.816|ERROR|monitor-mailservice|12896||o.a.c.ConnectionState    |228 |Connection timed out for connection string (127.0.0.1:2181) and timeout (5000) / elapsed (6051)
org.apache.curator.CuratorConnectionLossException: KeeperErrorCode = ConnectionLoss
	at org.apache.curator.ConnectionState.checkTimeouts(ConnectionState.java:225)
	at org.apache.curator.ConnectionState.getZooKeeper(ConnectionState.java:94)
	at org.apache.curator.CuratorZookeeperClient.getZooKeeper(CuratorZookeeperClient.java:117)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.performBackgroundOperation(CuratorFrameworkImpl.java:835)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.backgroundOperationsLoop(CuratorFrameworkImpl.java:809)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.access$300(CuratorFrameworkImpl.java:64)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl$4.call(CuratorFrameworkImpl.java:267)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2024-01-11 17:44:03.819|ERROR|monitor-mailservice|12896||o.a.c.f.i.CuratorFrameworkImpl|557 |Background operation retry gave up
org.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss
	at org.apache.zookeeper.KeeperException.create(KeeperException.java:99)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.checkBackgroundRetry(CuratorFrameworkImpl.java:728)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.performBackgroundOperation(CuratorFrameworkImpl.java:857)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.backgroundOperationsLoop(CuratorFrameworkImpl.java:809)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.access$300(CuratorFrameworkImpl.java:64)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl$4.call(CuratorFrameworkImpl.java:267)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2024-01-11 17:44:03.821|ERROR|monitor-mailservice|12896||o.a.c.f.i.CuratorFrameworkImpl|557 |Background retry gave up
org.apache.curator.CuratorConnectionLossException: KeeperErrorCode = ConnectionLoss
	at org.apache.curator.ConnectionState.checkTimeouts(ConnectionState.java:225)
	at org.apache.curator.ConnectionState.getZooKeeper(ConnectionState.java:94)
	at org.apache.curator.CuratorZookeeperClient.getZooKeeper(CuratorZookeeperClient.java:117)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.performBackgroundOperation(CuratorFrameworkImpl.java:835)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.backgroundOperationsLoop(CuratorFrameworkImpl.java:809)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.access$300(CuratorFrameworkImpl.java:64)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl$4.call(CuratorFrameworkImpl.java:267)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2024-01-11 17:44:05.215|WARN |monitor-mailservice|12896||o.a.z.ClientCnxn         |1162|Session 0x10003aa3bde0002 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused: no further information
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:361)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1141)
2024-01-11 17:44:05.356|ERROR|monitor-mailservice|12896||o.a.c.ConnectionState    |228 |Connection timed out for connection string (127.0.0.1:2181) and timeout (5000) / elapsed (7591)
org.apache.curator.CuratorConnectionLossException: KeeperErrorCode = ConnectionLoss
	at org.apache.curator.ConnectionState.checkTimeouts(ConnectionState.java:225)
	at org.apache.curator.ConnectionState.getZooKeeper(ConnectionState.java:94)
	at org.apache.curator.CuratorZookeeperClient.getZooKeeper(CuratorZookeeperClient.java:117)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.getZooKeeper(CuratorFrameworkImpl.java:489)
	at org.apache.curator.framework.imps.DeleteBuilderImpl$5.call(DeleteBuilderImpl.java:250)
	at org.apache.curator.framework.imps.DeleteBuilderImpl$5.call(DeleteBuilderImpl.java:244)
	at org.apache.curator.RetryLoop.callWithRetry(RetryLoop.java:109)
	at org.apache.curator.framework.imps.DeleteBuilderImpl.pathInForeground(DeleteBuilderImpl.java:241)
	at org.apache.curator.framework.imps.DeleteBuilderImpl.forPath(DeleteBuilderImpl.java:225)
	at org.apache.curator.framework.imps.DeleteBuilderImpl.forPath(DeleteBuilderImpl.java:35)
	at com.alibaba.dubbo.remoting.zookeeper.curator.CuratorZookeeperClient.delete(CuratorZookeeperClient.java:96)
	at com.alibaba.dubbo.registry.zookeeper.ZookeeperRegistry.doUnregister(ZookeeperRegistry.java:123)
	at com.alibaba.dubbo.registry.support.FailbackRegistry.unregister(FailbackRegistry.java:161)
	at com.alibaba.dubbo.registry.support.AbstractRegistry.destroy(AbstractRegistry.java:458)
	at com.alibaba.dubbo.registry.support.FailbackRegistry.destroy(FailbackRegistry.java:437)
	at com.alibaba.dubbo.registry.zookeeper.ZookeeperRegistry.destroy(ZookeeperRegistry.java:103)
	at com.alibaba.dubbo.registry.support.AbstractRegistryFactory.destroyAll(AbstractRegistryFactory.java:71)
	at com.alibaba.dubbo.config.ProtocolConfig.destroyAll(ProtocolConfig.java:158)
	at com.alibaba.dubbo.config.AbstractConfig$1.run(AbstractConfig.java:83)
	at java.lang.Thread.run(Thread.java:748)
2024-01-11 17:44:09.108|WARN |monitor-mailservice|12896||o.a.z.ClientCnxn         |1162|Session 0x10003aa3bde0002 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused: no further information
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:361)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1141)
2024-01-11 17:44:11.404|ERROR|monitor-mailservice|12896||o.a.c.ConnectionState    |228 |Connection timed out for connection string (127.0.0.1:2181) and timeout (5000) / elapsed (13639)
org.apache.curator.CuratorConnectionLossException: KeeperErrorCode = ConnectionLoss
	at org.apache.curator.ConnectionState.checkTimeouts(ConnectionState.java:225)
	at org.apache.curator.ConnectionState.getZooKeeper(ConnectionState.java:94)
	at org.apache.curator.CuratorZookeeperClient.getZooKeeper(CuratorZookeeperClient.java:117)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.getZooKeeper(CuratorFrameworkImpl.java:489)
	at org.apache.curator.framework.imps.DeleteBuilderImpl$5.call(DeleteBuilderImpl.java:250)
	at org.apache.curator.framework.imps.DeleteBuilderImpl$5.call(DeleteBuilderImpl.java:244)
	at org.apache.curator.RetryLoop.callWithRetry(RetryLoop.java:109)
	at org.apache.curator.framework.imps.DeleteBuilderImpl.pathInForeground(DeleteBuilderImpl.java:241)
	at org.apache.curator.framework.imps.DeleteBuilderImpl.forPath(DeleteBuilderImpl.java:225)
	at org.apache.curator.framework.imps.DeleteBuilderImpl.forPath(DeleteBuilderImpl.java:35)
	at com.alibaba.dubbo.remoting.zookeeper.curator.CuratorZookeeperClient.delete(CuratorZookeeperClient.java:96)
	at com.alibaba.dubbo.registry.zookeeper.ZookeeperRegistry.doUnregister(ZookeeperRegistry.java:123)
	at com.alibaba.dubbo.registry.support.FailbackRegistry.unregister(FailbackRegistry.java:161)
	at com.alibaba.dubbo.registry.support.AbstractRegistry.destroy(AbstractRegistry.java:458)
	at com.alibaba.dubbo.registry.support.FailbackRegistry.destroy(FailbackRegistry.java:437)
	at com.alibaba.dubbo.registry.zookeeper.ZookeeperRegistry.destroy(ZookeeperRegistry.java:103)
	at com.alibaba.dubbo.registry.support.AbstractRegistryFactory.destroyAll(AbstractRegistryFactory.java:71)
	at com.alibaba.dubbo.config.ProtocolConfig.destroyAll(ProtocolConfig.java:158)
	at com.alibaba.dubbo.config.AbstractConfig$1.run(AbstractConfig.java:83)
	at java.lang.Thread.run(Thread.java:748)
2024-01-11 17:44:11.408|WARN |monitor-mailservice|12896||c.a.d.r.z.ZookeeperRegistry|463 | [DUBBO] Failed to unregister url dubbo://10.85.1.17:20882/com.zr.mailmonitor.service.MailService?anyhost=true&application=monitor-mailservice-provider&dubbo=2.6.2&generic=false&interface=com.zr.mailmonitor.service.MailService&methods=sendWarningMail&pid=12896&side=provider&timestamp=1704965610284 to registry zookeeper://127.0.0.1:2181/com.alibaba.dubbo.registry.RegistryService?application=monitor-mailservice-provider&dubbo=2.6.2&interface=com.alibaba.dubbo.registry.RegistryService&pid=12896&timestamp=1704965610246 on destroy, cause: Failed to unregister dubbo://10.85.1.17:20882/com.zr.mailmonitor.service.MailService?anyhost=true&application=monitor-mailservice-provider&dubbo=2.6.2&generic=false&interface=com.zr.mailmonitor.service.MailService&methods=sendWarningMail&pid=12896&side=provider&timestamp=1704965610284 to registry 127.0.0.1:2181, cause: Failed to unregister dubbo://10.85.1.17:20882/com.zr.mailmonitor.service.MailService?anyhost=true&application=monitor-mailservice-provider&dubbo=2.6.2&generic=false&interface=com.zr.mailmonitor.service.MailService&methods=sendWarningMail&pid=12896&side=provider&timestamp=1704965610284 to zookeeper zookeeper://127.0.0.1:2181/com.alibaba.dubbo.registry.RegistryService?application=monitor-mailservice-provider&dubbo=2.6.2&interface=com.alibaba.dubbo.registry.RegistryService&pid=12896&timestamp=1704965610246, cause: KeeperErrorCode = ConnectionLoss, dubbo version: 2.6.2, current host: 10.85.1.17
java.lang.IllegalStateException: Failed to unregister dubbo://10.85.1.17:20882/com.zr.mailmonitor.service.MailService?anyhost=true&application=monitor-mailservice-provider&dubbo=2.6.2&generic=false&interface=com.zr.mailmonitor.service.MailService&methods=sendWarningMail&pid=12896&side=provider&timestamp=1704965610284 to registry 127.0.0.1:2181, cause: Failed to unregister dubbo://10.85.1.17:20882/com.zr.mailmonitor.service.MailService?anyhost=true&application=monitor-mailservice-provider&dubbo=2.6.2&generic=false&interface=com.zr.mailmonitor.service.MailService&methods=sendWarningMail&pid=12896&side=provider&timestamp=1704965610284 to zookeeper zookeeper://127.0.0.1:2181/com.alibaba.dubbo.registry.RegistryService?application=monitor-mailservice-provider&dubbo=2.6.2&interface=com.alibaba.dubbo.registry.RegistryService&pid=12896&timestamp=1704965610246, cause: KeeperErrorCode = ConnectionLoss
	at com.alibaba.dubbo.registry.support.FailbackRegistry.unregister(FailbackRegistry.java:174)
	at com.alibaba.dubbo.registry.support.AbstractRegistry.destroy(AbstractRegistry.java:458)
	at com.alibaba.dubbo.registry.support.FailbackRegistry.destroy(FailbackRegistry.java:437)
	at com.alibaba.dubbo.registry.zookeeper.ZookeeperRegistry.destroy(ZookeeperRegistry.java:103)
	at com.alibaba.dubbo.registry.support.AbstractRegistryFactory.destroyAll(AbstractRegistryFactory.java:71)
	at com.alibaba.dubbo.config.ProtocolConfig.destroyAll(ProtocolConfig.java:158)
	at com.alibaba.dubbo.config.AbstractConfig$1.run(AbstractConfig.java:83)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.alibaba.dubbo.rpc.RpcException: Failed to unregister dubbo://10.85.1.17:20882/com.zr.mailmonitor.service.MailService?anyhost=true&application=monitor-mailservice-provider&dubbo=2.6.2&generic=false&interface=com.zr.mailmonitor.service.MailService&methods=sendWarningMail&pid=12896&side=provider&timestamp=1704965610284 to zookeeper zookeeper://127.0.0.1:2181/com.alibaba.dubbo.registry.RegistryService?application=monitor-mailservice-provider&dubbo=2.6.2&interface=com.alibaba.dubbo.registry.RegistryService&pid=12896&timestamp=1704965610246, cause: KeeperErrorCode = ConnectionLoss
	at com.alibaba.dubbo.registry.zookeeper.ZookeeperRegistry.doUnregister(ZookeeperRegistry.java:125)
	at com.alibaba.dubbo.registry.support.FailbackRegistry.unregister(FailbackRegistry.java:161)
	... 7 common frames omitted
Caused by: java.lang.IllegalStateException: KeeperErrorCode = ConnectionLoss
	at com.alibaba.dubbo.remoting.zookeeper.curator.CuratorZookeeperClient.delete(CuratorZookeeperClient.java:99)
	at com.alibaba.dubbo.registry.zookeeper.ZookeeperRegistry.doUnregister(ZookeeperRegistry.java:123)
	... 8 common frames omitted
Caused by: org.apache.curator.CuratorConnectionLossException: KeeperErrorCode = ConnectionLoss
	at org.apache.curator.ConnectionState.checkTimeouts(ConnectionState.java:225)
	at org.apache.curator.ConnectionState.getZooKeeper(ConnectionState.java:94)
	at org.apache.curator.CuratorZookeeperClient.getZooKeeper(CuratorZookeeperClient.java:117)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.getZooKeeper(CuratorFrameworkImpl.java:489)
	at org.apache.curator.framework.imps.DeleteBuilderImpl$5.call(DeleteBuilderImpl.java:250)
	at org.apache.curator.framework.imps.DeleteBuilderImpl$5.call(DeleteBuilderImpl.java:244)
	at org.apache.curator.RetryLoop.callWithRetry(RetryLoop.java:109)
	at org.apache.curator.framework.imps.DeleteBuilderImpl.pathInForeground(DeleteBuilderImpl.java:241)
	at org.apache.curator.framework.imps.DeleteBuilderImpl.forPath(DeleteBuilderImpl.java:225)
	at org.apache.curator.framework.imps.DeleteBuilderImpl.forPath(DeleteBuilderImpl.java:35)
	at com.alibaba.dubbo.remoting.zookeeper.curator.CuratorZookeeperClient.delete(CuratorZookeeperClient.java:96)
	... 9 common frames omitted
2024-01-11 17:44:22.590|WARN |monitor-mailservice|12896||c.a.d.r.t.AbstractServer |205 | [DUBBO] All clients has discontected from /10.85.1.17:20882. You can graceful shutdown now., dubbo version: 2.6.2, current host: 10.85.1.17
